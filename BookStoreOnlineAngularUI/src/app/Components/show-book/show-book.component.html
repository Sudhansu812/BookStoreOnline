<style>

</style>

<div class="d-flex justify-content-between">
    <h2>{{this.book.bookTitle}}</h2>
    <button mat-button (click)="onClose()">
        <mat-icon>close</mat-icon>
    </button>
</div>



<div>
    <table class="table table-borderless">
        <tr>
            <td rowspan="4" style="width: 300px;" >
                <img src="{{this.book.bookCoverPath}}" alt="{{ this.book.bookTitle }}" class="img-fluid">
                <span class="d-flex justify-content-center mt-1"><strong>Price:</strong> &#x20b9;{{book.bookPrice}}</span>
            </td>
        </tr>
        <tr>
            <td style="width: 400px;">
                <ul class="list-group">
                    <li class="list-group-item">
                        <strong>Category:</strong> {{ this.book.category }}
                    </li>
                    <li class="list-group-item">
                        <strong>Author:</strong> {{ this.book.bookAuthorName }}
                    </li>
                    <li class="list-group-item">
                        <strong>Book Description:</strong> {{ this.book.bookDescription }}
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <strong>Book Rating: <small>{{ this.book.bookRating | number:'1.1-1' }} / 5</small></strong>
                        <span class="badge badge-primary badge-pill">{{ this.book.bookNumberOfRatings }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <div class="input-group" *ngIf="this.userStatus">
                            <div class="input-group-prepend">
                              <button class="btn btn-outline-warning btn-sm dropdown-toggle" type="button" 
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Rate</button>
                              <div class="dropdown-menu">
                                <button class="dropdown-item" type="button" (click)="onRate(1,book.bookId)">1</button>
                                <button class="dropdown-item" type="button" (click)="onRate(2,book.bookId)">2</button>
                                <button class="dropdown-item" type="button" (click)="onRate(3,book.bookId)">3</button>
                                <button class="dropdown-item" type="button" (click)="onRate(4,book.bookId)">4</button>
                                <button class="dropdown-item" type="button" (click)="onRate(5,book.bookId)">5</button>
                              </div>
                            </div>
                        </div>
                        <div class="input-group" *ngIf="!this.userStatus">
                            <h3>You need to be logged in to rate this book.</h3>
                        </div>
                    </li>
                  </ul>
            </td>
        </tr>
        <tr *ngIf="this.userStatus">
            <td>
                <button class="btn btn-sm btn-warning btn-block" (click)="onAddToCart(book)">Add to cart</button>
            </td>
        </tr>
        <tr *ngIf="this.userStatus">
            <td>
                <button class="btn btn-sm btn-success btn-block"  (click)="onBuy(book)">Buy</button>
            </td>
        </tr>
        <tr *ngIf="!this.userStatus">
            <td>
                <h3>You need to be logged in to add this book to cart or buy.</h3>
            </td>
        </tr>
    </table>
</div>
